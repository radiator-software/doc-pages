(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8395],{9617:(e,t,a)=>{"use strict";a.d(t,{o2:()=>r,tR:()=>s});var l=a(20556),n=a(95704);let r=l.Yj().min(1,"NEXT_PUBLIC_RADIATOR_BASE_PATH must not be empty").parse("/latest"),s=l.KC([l.eu("management"),l.eu("docs")]).optional().default("management").parse("docs");l.uE().optional().default(!1).parse(n.env.NEXT_PUBLIC_RADIATOR_PUBLIC)},23778:(e,t,a)=>{"use strict";a.d(t,{S:()=>u});var l=a(95155),n=a(70690),r=a(12115),s=a(86946),i=a(545),o=a(78095),d=a(77073),c=a(2821);let u=e=>{let[t,a]=(0,r.useState)(!1),[u,f]=(0,r.useState)([]),m=(0,r.useRef)(null),p=(0,r.useRef)(null),x=t=>{if(e.disabled||0===t.length)return;let a=t[0];if(f(e.multiple?t:[a]),m.current){let l=new DataTransfer;if(e.multiple)for(let e of t)e&&l.items.add(e);else l.items.add(a);m.current.files=l.files}(t=>{var a,l;e.multiple?null==(a=e.onFiles)||a.call(e,t):t[0]&&(null==(l=e.onFile)||l.call(e,t[0]))})(t)},h=async()=>{var t;e.disabled||x([new File([await navigator.clipboard.readText()],null!=(t=e.pastedFilename)?t:"pasted.txt",{type:"text/plain"})])};return(0,l.jsx)("div",{ref:p,onDragEnter:t=>{t.preventDefault(),t.stopPropagation(),e.disabled||a(!0)},onDragOver:t=>{if(t.preventDefault(),t.stopPropagation(),e.disabled)return},onDragLeave:t=>{var l;t.preventDefault(),t.stopPropagation(),!e.disabled&&t.relatedTarget instanceof HTMLElement&&!(null==(l=p.current)?void 0:l.contains(t.relatedTarget))&&a(!1)},onDrop:t=>{if(t.preventDefault(),t.stopPropagation(),e.disabled)return;a(!1);let l=t.dataTransfer.files;l&&0!==l.length&&(e.multiple?x(Array.from(l)):x([l[0]]))},className:(0,c.$)("flex flex-col",t&&!e.disabled&&"bg-gray-100",e.disabled&&"opacity-50"),children:(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("input",{type:"file",required:e.required,multiple:e.multiple,name:e.name,onChange:t=>{let a=t.target.files;a&&0!==a.length&&(e.multiple?x(Array.from(a)):x([a[0]]))},style:{display:"none"},ref:m,disabled:e.disabled}),(0,l.jsxs)("div",{className:(0,c.$)("border-2 border-dashed p-6 text-center transition-all duration-300",t?"border-blue-500 bg-blue-50 scale-105 shadow-lg":"border-gray-300"),children:[t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.A,{className:"text-blue-500 mb-2",style:{fontSize:48}}),(0,l.jsxs)("p",{className:"text-blue-600 font-medium mb-2",children:["Release to select file",e.multiple?"s":""]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"mb-2",children:["Drag and drop file",e.multiple?"s":""," here"]}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"or"})]}),(0,l.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,l.jsxs)(n.default,{variant:"contained",onClick:()=>{var t;e.disabled||null==(t=m.current)||t.click()},startIcon:(0,l.jsx)(s.A,{}),disabled:e.disabled,children:["Select File",e.multiple?"s":""]}),(0,l.jsx)(n.default,{startIcon:(0,l.jsx)(o.A,{}),variant:"contained",onClick:h,disabled:e.disabled,children:"Paste"})]}),u.length>0&&(0,l.jsx)("ul",{className:"pt-4 space-y-1 text-left","aria-label":"Selected files",children:u.map((t,a)=>(0,l.jsxs)("li",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)("span",{className:"flex-1 break-all",children:t.name}),e.multiple&&(0,l.jsx)(n.default,{size:"small",variant:"outlined",color:"error","aria-label":"Remove ".concat(t.name),onClick:()=>{!e.disabled&&f(t=>{let l=t.filter((e,t)=>t!==a);if(m.current){let e=new DataTransfer;for(let t of l)e.items.add(t);m.current.files=e.files}if(e.multiple){var n;null==(n=e.onFiles)||n.call(e,l)}return l})},children:(0,l.jsx)(d.A,{fontSize:"small"})})]},"".concat(t.name,"-").concat(a)))})]})]})})}},34860:(e,t,a)=>{"use strict";function l(e,t){if(null==e)throw Error(null!=t?t:"Value must not be null or undefined")}a.d(t,{B:()=>l})},60149:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var l=a(95155),n=a(12115),r=a(29767),s=a(2821);let i=n.forwardRef(function(e,t){let{className:a,...n}=e;return(0,l.jsx)("div",{className:"overflow-y-visible",children:(0,l.jsx)(r.default,{ref:t,className:(0,s.A)(a,"overflow-x-auto"),...n})})});i.displayName="OverflowingCard"},64928:(e,t,a)=>{Promise.resolve().then(a.bind(a,75683))},65547:(e,t,a)=>{"use strict";a.d(t,{H:()=>l});let l=(e,t)=>{let a=Math.floor((e.getTime()-new Date().getTime())/864e5),l=e.toISOString().slice(0,10);return t?"".concat(l," (").concat(a," ").concat(1===a?"day":"days"," ").concat(a>=0?"left":"ago",")"):l}},68032:(e,t,a)=>{"use strict";a.d(t,{K:()=>n});var l=a(12115);let n=e=>(0,l.useCallback)(t=>{t&&t.setCustomValidity(e)},[e])},70303:(e,t,a)=>{"use strict";a.d(t,{Iy:()=>o,T3:()=>d,e_:()=>i,vf:()=>c});var l=a(20556);let n=l.g1(l.Yj(),l.L5()).optional(),r=l.Ik({message:l.Yj().optional()}).catchall(l.L5()).optional(),s=l.g1(l.Yj(),l.L5()).optional();function i(e,t,a){try{let n=l.vk((e,t)=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){t.addIssue({code:"custom",message:e.message})}return e},t).safeParse(e);if(n.success)return n.data;throw Error("Error while parsing JSON to ".concat(a,":\n\n").concat(n.error,"\n\nInput: ").concat(e))}catch(e){return}}let o=e=>i(e,n,"log entry"),d=e=>i(e,r,"HTTP error response"),c=e=>i(e,s,"DataGrid state")},74406:(e,t,a)=>{"use strict";a.d(t,{store:()=>l});let l=(0,a(80074).y$)()},75683:(e,t,a)=>{"use strict";a.d(t,{Licenses:()=>_});var l=a(95155),n=a(95741),r=a(25957),s=a(41983),i=a(84578),o=a(41602),d=a(23820),c=a(17681),u=a(21067),f=a(16963),m=a(2456),p=a(64792),x=a(71356),h=a(45202),v=a(70690),j=a(2778),g=a(60149),y=a(57084),b=a(68251),A=a(34860),w=a(65547),S=a(4484),N=a(86946),D=a(12115),k=a(23778),C=a(68032),P=a(52363),T=a(65036),E=a(50001),F=a(75912);let I=e=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(j.A,{open:e.open,onClose:()=>{e.onClose(!1)},fullWidth:!0,PaperProps:{component:"form",onSubmit:async t=>{t.preventDefault(),e.onClose(!0)}},children:[(0,l.jsx)(P.A,{children:e.title}),(0,l.jsx)(T.A,{className:"flex flex-col gap-3",children:(0,l.jsx)(E.A,{children:e.message})}),(0,l.jsxs)(F.A,{children:[(0,l.jsx)(v.default,{type:"button",variant:"outlined",onClick:()=>{e.onClose(!1)},children:"Cancel"}),(0,l.jsx)(v.default,{variant:"contained",type:"submit",children:"Confirm"})]})]})}),L=e=>{var t,a,v;let j=(0,n.kK)(),[N,k]=(0,D.useState)(!1),C=e.data?(0,n.mS)(e.data):void 0,P="Valid"===C,T=e.data?(0,n.Sk)(e.data.license):void 0;return(0,l.jsxs)(g.T,{children:[(0,l.jsx)(I,{title:'Delete "'.concat(e.name,'"?'),message:"This action cannot be undone.",open:N,onClose:async t=>{t&&await j.mutateAsync({filename:e.name}),k(!1)}}),(0,l.jsx)(r.default,{avatar:P?(0,l.jsx)(y.A,{}):(0,l.jsx)(b.A,{}),title:"License",subheader:e.name,action:(null==(t=e.data.source)?void 0:t.type)==="file"?(0,l.jsx)(s.default,{"aria-label":'Delete "'.concat(e.name,'"'),onClick:()=>{k(!0)},children:(0,l.jsx)(S.A,{})}):null}),e.data&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.default,{className:"pt-0",children:(0,l.jsxs)(o.default,{children:[(0,l.jsx)(d.default,{children:(0,l.jsx)(c.default,{primary:"Status",secondary:"NotYetValid"===C?"Not yet valid":C})}),(0,l.jsx)(d.default,{children:(0,l.jsx)(c.default,{primary:"Licensee",secondary:e.data.licensee})}),(0,l.jsx)(d.default,{children:(0,l.jsx)(c.default,{primary:"License type",secondary:(0,n.Xk)(e.data)})}),(0,l.jsx)(d.default,{children:(0,l.jsx)(c.default,{primary:"License source",secondary:(null==(a=e.data.source)?void 0:a.type)==="inline"?"Inlined in the configuration":(null==(v=e.data.source)?void 0:v.type)==="file"?"File: ".concat(e.data.source.path):"Unknown"})}),(0,l.jsx)(d.default,{children:(0,l.jsx)(c.default,{primary:"Serial",secondary:e.data.serial})}),(0,l.jsx)(d.default,{children:(0,l.jsx)(c.default,{primary:"Valid after",secondary:(0,w.H)(new Date(e.data.valid_after))})}),T&&(0,l.jsx)(d.default,{children:(0,l.jsx)(c.default,{primary:"Valid until",secondary:(0,w.H)(new Date(T),!0)})})]})}),(0,l.jsx)(u.default,{}),(0,l.jsx)(r.default,{title:"License attributes"}),(0,l.jsx)(i.default,{className:"pt-0",children:(0,l.jsxs)(f.A,{size:"small",children:[(0,l.jsx)(m.A,{children:(0,l.jsxs)(p.A,{children:[(0,l.jsx)(x.A,{children:"Attribute"}),(0,l.jsx)(x.A,{children:"Value"})]})}),(0,l.jsx)(h.A,{children:e.data.attributes.map(e=>{let[t,a]=(e=>{if("string"==typeof e)return[e,null];let t=Object.keys(e)[0];return(0,A.B)(t,"cannot make enum variant tuple from an empty object"),[t,e[t]]})(e);return(0,l.jsxs)(p.A,{children:[(0,l.jsx)(x.A,{children:t}),(0,l.jsx)(x.A,{children:Object.entries(a).map(e=>{let[t,a]=e;return"".concat(t,": ").concat(JSON.stringify(a))}).join(", ")})]},t)})})]})})]})]},e.name)},V=()=>{let e=()=>{s(!1),d(null)},t=(0,n.Qv)({onSuccess:e}),[a,s]=(0,D.useState)(!1),[o,d]=(0,D.useState)(null),c=(0,C.K)(o?"":"Please select a file.");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v.default,{variant:"outlined",onClick:()=>{s(!0)},startIcon:(0,l.jsx)(N.A,{}),children:"Add a license"}),(0,l.jsxs)(j.A,{open:a,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{component:"form",onSubmit:async e=>{if(e.preventDefault(),!(e.target instanceof HTMLFormElement))return;let a=new FormData(e.target).get("license");a instanceof File&&await t.mutateAsync({file:a})}},children:[(0,l.jsx)(r.default,{title:"Upload a License"}),(0,l.jsx)(u.default,{}),(0,l.jsx)(i.default,{children:(0,l.jsx)(k.S,{name:"license",pastedFilename:"clipboard.license",onFile:e=>{d(e)}})}),(0,l.jsx)(u.default,{}),(0,l.jsxs)("div",{className:"flex justify-end p-4 gap-2",children:[(0,l.jsx)(v.default,{onClick:e,variant:"outlined",children:"Cancel"}),(0,l.jsx)(v.default,{ref:c,className:"invalid:opacity-20 disabled:opacity-5",disabled:"pending"===t.status,type:"submit",variant:"contained",color:"primary",children:"Upload"})]})]})]})},_=()=>{let{licenses:e,isLoading:t}=(0,n.YV)();return(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[!t&&(null==e?void 0:e.length)===0&&(0,l.jsx)(g.T,{children:(0,l.jsx)(r.default,{avatar:(0,l.jsx)(b.A,{}),title:"No valid licenses found"})}),null==e?void 0:e.map(e=>(0,l.jsx)(L,{...e},e.name)),(0,l.jsx)(V,{})]})}},89489:(e,t,a)=>{"use strict";a.d(t,{DB:()=>j,JN:()=>k,Ot:()=>w,PP:()=>C,V8:()=>S,Vw:()=>N,ed:()=>b,en:()=>g,tt:()=>A});var l=a(53455),n=a(34049),r=a(99776),s=a(67364),i=a(89460),o=a(77202),d=a(51208),c=a(12115),u=a(70303),f=a(99686),m=a(74406),p=a(9617);let x=(0,d.tG)("CurrentUser",void 0,(0,d.KU)(()=>localStorage)),h=(0,d.tG)("LoginBaseUrl","/api/v1"),v=(0,d.tG)("AutoRefresh",!0),j=()=>{let e=(0,o.useAtomValue)(x);return"docs"!==p.tR&&void 0!==e},g=()=>(0,o.useSetAtom)(x),y=()=>{let e=(0,o.useAtomValue)(x);return"docs"!==p.tR&&e},b=()=>(0,o.useAtom)(h),A=()=>(0,o.useAtomValue)(v),w=()=>(0,o.useSetAtom)(v),S=(e,t,a)=>{var r,s,i;let o=!!y(),d=null==(r=null==a?void 0:a.enabled)||r,c=o&&d,u=A(),f=k(null==a?void 0:a.disableHooks),m=u&&!!(null==(s=null==a?void 0:a.refetch)||s),p=null!=(i=null==a?void 0:a.refetchInterval)?i:1e4,x=(0,l.I)({queryKey:e,queryFn:()=>t(f),refetchInterval:m?p:void 0,refetchOnWindowFocus:m,placeholderData:(null==a?void 0:a.keepPreviousData)?n.rX:void 0,enabled:c});return c||(x={...x,isLoading:!0}),x},N=(e,t,a,l)=>{var n,i;let o=(0,r.jE)(),d=y(),u=A()&&!!(null==(n=null==l?void 0:l.refetch)||n),f=null!=(i=null==l?void 0:l.refetchInterval)?i:1e4,m=!!d,p=k(null==l?void 0:l.disableHooks),x=(0,s.q)({queryKey:e,queryFn:e=>{let{pageParam:a}=e;return t(p,a)},initialPageParam:void 0,getNextPageParam:a,refetchInterval:u?f:void 0,enabled:m,staleTime:1/0});m||(x={...x,isLoading:!0}),(0,c.useEffect)(()=>{if(!u)return;let t=setInterval(async()=>{m&&!x.isFetchingNextPage&&(await x.fetchNextPage(),o.setQueryData(e,e=>{var t;let a=[...e?e.pages:[]],l=[...e?e.pageParams:[]];return(null==(t=a.at(-1))?void 0:t.length)===0&&(a.pop(),l.pop()),{pages:a,pageParams:l}}))},1e3);return()=>clearInterval(t)},[x.fetchNextPage,x.isFetchingNextPage,m,x,o,d,u,e]);let h=(0,c.useMemo)(()=>{var e,t;return null!=(t=null==(e=x.data)?void 0:e.pages.flat())?t:[]},[x.data]);return{...x,data:h}},D=(e,t)=>function(){for(var a=arguments.length,l=Array(a),n=0;n<a;n++)l[n]=arguments[n];let[r,s]=l,i=null!=s?s:{},o=void 0!==i.json||void 0!==i.body;return t.call(e,r,o?i:{...i,json:{}})},k=e=>((e,t)=>{let a=i.Ay.extend({prefixUrl:e,credentials:"include",hooks:{beforeError:t?[]:[async e=>{var t,a,l;let n=e.message,r=null!=(t=e.response.headers.get("X-Context-Id"))?t:"<no ctx id>",s=await e.response.text().catch(()=>null),i=s?(0,u.T3)(s):null,o=null!=(l=null!=(a=null==i?void 0:i.message)?a:null==s?void 0:s.slice(0,500))?l:"";return s&&(e.body=s),i&&(e.json=i),401===e.response.status?((0,f.z)("You are not authenticated, please login again."),m.store.set(x,void 0)):"GET"===e.request.method?(0,f.z)("Error while fetching data with ".concat(r,", retrying...\n").concat(n,"\n").concat(o)):(0,f.z)("HTTP request error with ".concat(r,":\n").concat(n,"\n").concat(o)),e}]}});return a.post=D(a,a.post),a.put=D(a,a.put),a})((0,o.useAtomValue)(h),e),C=e=>"".concat(p.o2).concat(e)},95741:(e,t,a)=>{"use strict";a.d(t,{Qv:()=>m,Sk:()=>d,Xk:()=>u,YV:()=>i,fX:()=>o,kK:()=>x,mS:()=>c});var l=a(89489),n=a(99776),r=a(80549);let s=async e=>Object.entries(await e.get("license").json()),i=()=>{let{data:e,isLoading:t}=(0,l.V8)(["license"],s,{refetchInterval:6e4});return{licenses:null==e?void 0:e.map(e=>{let[t,a]=e;return{name:t,data:a}}),isLoading:t}},o=()=>{let{licenses:e,isLoading:t}=i();return{...null==e?void 0:e.at(0),isLoading:t}},d=e=>{if("string"!=typeof e){if("Evaluation"in e)return e.Evaluation.valid_until;if("Subscription"in e)return e.Subscription.valid_until}},c=e=>{if(e.is_expired)return"Expired";let t=e.license;return"Development"===t||"Perpetual"===t?"Valid":new Date<new Date(e.valid_after)?"NotYetValid":"Valid"},u=e=>{let t=e.license;return"string"==typeof t?t:"Evaluation"in t?"Evaluation":"Subscription"in t?"Subscription":"Unknown"},f=async(e,t)=>{let a=new FormData;a.append("file",t.file,t.file.name),await e.post("license-files",{body:a}).json()},m=e=>{let t=(0,l.JN)(),a=(0,n.jE)();return(0,r.n)({mutationFn:e=>f(t,e),onSuccess:async()=>{var t;await a.invalidateQueries({queryKey:["license"]}),null==(t=e.onSuccess)||t.call(e)}})},p=async(e,t)=>{await e.delete("license-files/".concat(t.filename))},x=()=>{let e=(0,l.JN)(),t=(0,n.jE)();return(0,r.n)({mutationFn:async t=>{await p(e,{filename:t.filename})},async onSuccess(){await t.invalidateQueries({queryKey:["license"]})}})}},99686:(e,t,a)=>{"use strict";a.d(t,{z:()=>s});var l=a(71991);let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=0xdeadbeef^t,l=0x41c6ce57^t;for(let t=0,n;t<e.length;t++)a=Math.imul(a^(n=e.charCodeAt(t)),0x9e3779b1),l=Math.imul(l^n,0x5f356495);return a=Math.imul(a^a>>>16,0x85ebca6b)^Math.imul(l^l>>>13,0xc2b2ae35),(l=Math.imul(l^l>>>16,0x85ebca6b)^Math.imul(a^a>>>13,0xc2b2ae35)).toString(36).padStart(7,"0")+a.toString(36).padStart(7,"0")},r=new Map,s=(e,t)=>{var a;console.error(e);let s=n(null!=t?t:e),i=null!=(a=r.get(s))?a:0;Date.now()-i<12e4||(r.set(s,Date.now()),(0,l.M8)({message:e,variant:"error",autoHideDuration:15e3,style:{whiteSpace:"pre-line"}}))}}},e=>{e.O(0,[9140,4854,5070,8548,870,2378,7097,3820,5367,449,2677,4258,8441,1255,7358],()=>e(e.s=64928)),_N_E=e.O()}]);