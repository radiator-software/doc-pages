"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1012],{3651:(e,t,a)=>{a.d(t,{DP:()=>l,K7:()=>u,S2:()=>s,gZ:()=>o,yI:()=>c});var r=a(89489),n=a(12115);let i=async e=>await e.get("statistics/all-counters").json(),l=()=>(0,r.V8)(["counters"],i),o=e=>{let{data:t,...a}=l(),r=(0,n.useMemo)(()=>(t||[]).filter(t=>{let[a,r]=t;return void 0===e||u(r.group)===e}).map(e=>{let[t,a]=e;return[t,a]}),[t,e]);return{...a,counterGroups:r}},s=e=>{let{data:t,...a}=l(),r=(0,n.useMemo)(()=>{if(t&&e)return t.find(t=>{let[a,r]=t;return a.length===e.length&&a.every((t,a)=>t===e[a])})},[t,e]);return{...a,counter:r?r[1]:void 0,namespace:r?r[0]:void 0}},u=e=>"string"==typeof e?e:"Backend"in e?"Backend":"Policy"in e?"Policy":"Server"in e?"Server":"Handler"in e?"Handler":"Unknown",c=(e,t)=>e.reduce((e,a)=>{let[r,n]=a;if(u(n.group)!==t)return e;let i={...e};for(let[e,t]of n.values){var l;let a=Number(t);i[e]=(null!=(l=i[e])?l:0)+a}return i},{})},9620:(e,t,a)=>{a.d(t,{O:()=>r,W:()=>n});let r=e=>e.join("::"),n=e=>e.split("::").filter(e=>e.length>0)},18409:(e,t,a)=>{a.d(t,{$:()=>B});var r=a(95155),n=a(12115),i=a(46995);a(32501);var l=a(68998),o=a(63565),s=a(33567),u=a(90482),c=a(37359);function d(e){var t,a;let r=e.data.datasets.find(e=>"TimeSpent"===e.label);if(!r)return;let n=null!=(a=r.data)?a:[],i=(0,c.BV)(n),l=(0,c.lR)(i),o=null==(t=e.options)?void 0:t.scales;if(!(null==o?void 0:o.y1))return;let s=o.y1;s.ticks&&(s.ticks.callback=l),s.title&&(s.title.text=(0,c.xY)(i))}i.t1.register(o.Ay);let m=e=>{let t=(0,n.useRef)(null),[a,l]=(0,n.useState)(null),o=(0,s.default)(),u=(0,n.useMemo)(()=>e.series.map(e=>({...e,pointStyle:"circle",pointRadius:0,pointHitRadius:5,pointHoverRadius:5,yAxisID:"TimeSpent"===e.label?"y1":"y"})),[e.series]);return(0,n.useEffect)(()=>{var a;if(!t.current)throw Error("Canvas element not found");let r=function(e,t){return new i.t1(e,{type:"line",data:{labels:[],datasets:[]},options:{...{borderWidth:1},responsive:!0,maintainAspectRatio:!1,resizeDelay:100,plugins:{decimation:{enabled:!0,algorithm:"min-max"},tooltip:{callbacks:{title:t.timeFormats.tooltip,label:e=>{let t=e.dataset.label||"",a=e.parsed.y;return"TimeSpent"===t?"".concat(t,": ").concat((0,c.fp)(a)):"".concat(t,": ").concat(a)}}},zoom:{zoom:{drag:{enabled:!0},pinch:{enabled:!0},mode:"x"}},legend:{display:t.legend,align:"start",position:"bottom",labels:{usePointStyle:!0}}},interaction:{},scales:{y:{beginAtZero:!0,grid:{display:!0,color:t.theme.gridColor}},y1:{beginAtZero:!0,position:"right",grid:{display:!1},ticks:{callback:e=>"".concat(e," \xb5s")},title:{display:!0,text:"Time spent (\xb5s)"}},x:{type:"time",ticks:{callback:t.timeFormats.xTick},time:t.timeFormats.xTimeScale,grid:{display:!0,color:t.theme.gridColor}}}}})}(t.current,{legend:null!=(a=e.legend)&&a,theme:o.canvasChart,timeFormats:e.timeFormats});return l(r),()=>{r.destroy()}},[e.legend,e.timeFormats,o.canvasChart]),(0,n.useEffect)(()=>{if(a){a.data.labels=e.xLabels,a.data.datasets=u,d(a);try{a.update("none")}catch(e){}}},[a,e.xLabels,u]),(0,r.jsx)("canvas",{ref:t,onDoubleClick:()=>{null==a||a.resetZoom()}})},h=e=>{let t=(0,n.useRef)(null),[a,l]=(0,n.useState)(null),o=(0,s.default)(),u=(0,n.useMemo)(()=>e.series.map(e=>({...e,borderSkipped:!0,barThickness:"flex",yAxisID:"TimeSpent"===e.label?"y1":"y"})),[e.series]);return(0,n.useEffect)(()=>{var a;if(!t.current)throw Error("Canvas element not found");let r=function(e,t){return new i.t1(e,{type:"bar",data:{labels:[],datasets:[]},options:{...{borderWidth:1},responsive:!0,maintainAspectRatio:!1,resizeDelay:100,plugins:{decimation:{enabled:!1,algorithm:"min-max"},tooltip:{callbacks:{title:t.timeFormats.tooltip,label:e=>{let t=e.dataset.label||"",a=e.parsed.y;return"TimeSpent"===t?"".concat(t,": ").concat((0,c.fp)(a)):"".concat(t,": ").concat(a)}}},zoom:{zoom:{drag:{enabled:!0},pinch:{enabled:!0},mode:"x"}},legend:{display:t.legend,align:"start",position:"bottom",labels:{usePointStyle:!0}}},interaction:{mode:"nearest"},scales:{y:{beginAtZero:!0,grid:{display:!0,color:t.theme.gridColor}},y1:{beginAtZero:!0,position:"right",grid:{display:!1},ticks:{callback:e=>"".concat(e," \xb5s")},title:{display:!0,text:"Time spent (\xb5s)"}},x:{type:"time",time:t.timeFormats.xTimeScale,ticks:{callback:t.timeFormats.xTick},grid:{display:!0,color:t.theme.gridColor}}}}})}(t.current,{legend:null!=(a=e.legend)&&a,theme:o.canvasChart,timeFormats:e.timeFormats});return l(r),()=>{r.destroy()}},[e.legend,e.timeFormats,o.canvasChart]),(0,n.useEffect)(()=>{if(a){a.data.labels=e.xLabels,a.data.datasets=u,d(a);try{a.update("none")}catch(e){}}},[a,u,e.xLabels]),(0,r.jsx)("canvas",{ref:t,onDoubleClick:()=>{null==a||a.resetZoom()}})},g=e=>{let t=function(e){let[t,a]=(0,n.useState)(e.value),r=(0,n.useRef)(e.key);return(0,n.useEffect)(()=>{r.current!==e.key&&a(e.value),r.current=e.key;let t=setTimeout(()=>{a(e.value)},e.delay);return()=>{clearTimeout(t)}},[e.value,e.delay,e.key]),t}({value:e.series,key:e.aggregateBy,delay:200}),{series:a,xLabels:i}=(0,n.useMemo)(()=>{var a;let r=[];return{series:null!=(a=null==t?void 0:t.flatMap(t=>{let[a,n]=t;if(n.every(e=>0===e.value))return[];let i=n,l=Date.now();i=function(e,t){let a;if(0===e.length||!e[0])return[];let r=[],n=0;for(let l of e){var i;let e=null==(i=t(new Date(l.timestamp)))?void 0:i.getTime();if(e){if(void 0===a){a=e;continue}e===a?n+=l.value:(r.push({timestamp:new Date(a),value:n}),a=e,n=l.value)}}return a&&r.push({timestamp:new Date(a),value:n}),r}(n,t=>{let a=l-t.getTime();if("1h"!==e.zoom||!(a>36e5)){if("24h"!==e.zoom||!(a>864e5))return"5m"===e.aggregateBy?t.setMinutes(5*Math.floor(t.getMinutes()/5)):"15m"===e.aggregateBy?t.setMinutes(15*Math.floor(t.getMinutes()/15)):"1h"===e.aggregateBy?t.setMinutes(0):"6h"===e.aggregateBy?(t.setHours(6*Math.floor(t.getHours()/6)),t.setMinutes(0)):"12h"===e.aggregateBy?(t.setHours(12*Math.floor(t.getHours()/12)),t.setMinutes(0)):"24h"===e.aggregateBy&&(t.setHours(0),t.setMinutes(0)),"none"!==e.aggregateBy&&(t.setSeconds(0),t.setMilliseconds(0)),t}});let o=0;return{label:a,data:i.map(t=>(0===r.length&&(r=i.map(e=>e.timestamp)),e.cumulative)?o+=t.value:t.value)}}))?a:[],xLabels:r}},[t,e.aggregateBy,e.cumulative,e.zoom]),o=i[0],s=i.at(-1),c=o&&s&&(0,l.m)(s,o)>1,d=(0,n.useMemo)(()=>{let t={displayFormats:{hour:"HH:mm",minute:"HH:mm"}};return"24h"===e.aggregateBy?t={unit:"day",displayFormats:{day:"MMM d"}}:e.aggregateBy.endsWith("h")&&(t={unit:"hour",displayFormats:{hour:"HH:mm",minute:"HH:mm"}}),{tooltip:t=>{if(!t[0])return"[no data]";let a=new Date(t[0].parsed.x);return(0,u.Y)(a,{utc:e.utc})},xTick:t=>"24h"===e.aggregateBy?new Intl.DateTimeFormat("en",{day:"numeric",month:"short",timeZone:e.utc?"UTC":Intl.DateTimeFormat().resolvedOptions().timeZone}).format(new Date(t)):c?new Intl.DateTimeFormat("en",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit",timeZone:e.utc?"UTC":Intl.DateTimeFormat().resolvedOptions().timeZone}).format(new Date(t)):((e,t)=>{let a=new Date(e);return new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric",timeZone:t?"UTC":Intl.DateTimeFormat().resolvedOptions().timeZone}).format(a)})(t,e.utc),xTimeScale:t}},[c,e.aggregateBy,e.utc]);return(0,r.jsx)("div",{className:"relative flex flex-1 mt-6 mr-6",children:(0,r.jsx)("div",{className:"absolute inset-0",children:"line"===e.type?(0,r.jsx)(m,{series:a,xLabels:i,legend:e.legend,timeFormats:d}):(0,r.jsx)(h,{series:a,xLabels:i,legend:e.legend,timeFormats:d})})})};var v=a(57883),p=a(3139),f=a(22719),y=a(86973),b=a(49501),x=a(17681),A=a(52641),j=a(51221),k=a(55606),C=a(70690),w=a(78065),M=a(48989),T=a(21067),D=a(96843),I=a(16186),F=a(9693),S=a(26695);let E=e=>(0,r.jsxs)(y.A,{onClick:e.onClick,children:[(0,r.jsx)(b.A,{children:e.checked?(0,r.jsx)(D.A,{}):(0,r.jsx)(I.A,{})}),(0,r.jsx)(x.default,{children:e.children})]}),P=e=>(0,r.jsxs)(y.A,{onClick:e.onClick,children:[(0,r.jsx)(b.A,{children:e.checked?(0,r.jsx)(F.A,{}):null}),(0,r.jsx)(x.default,{children:e.children})]}),B=e=>{var t;let[a,i]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),[s,u]=(0,S.XA)(e.id),{type:c,zoom:d,utc:m,cumulative:h,aggregateBy:b}=s;return(0,r.jsxs)("div",{className:"flex h-full flex-col",children:[(0,r.jsx)("div",{className:"flex flex-1",children:(0,r.jsx)(g,{type:c,utc:m,legend:null!=(t=e.inlineLegend)&&t,zoom:d,series:e.timeseries,aggregateBy:b,cumulative:h},c)}),(0,r.jsxs)("div",{className:"chart-tools flex justify-between p-5 gap-5",children:[(0,r.jsxs)("div",{className:"flex gap-5",children:[(0,r.jsxs)(p.A,{value:d,onChange:(e,t)=>t&&u({zoom:t}),exclusive:!0,"aria-label":"Zoom level",size:"small",children:[(0,r.jsx)(v.A,{value:"1h",children:"1h"}),(0,r.jsx)(v.A,{value:"24h",children:"24h"}),(0,r.jsx)(v.A,{value:"all",children:"All"})]}),(0,r.jsxs)(A.A,{children:[(0,r.jsx)(j.A,{id:"combo-chart-aggregate",children:"Aggregate by"}),(0,r.jsxs)(k.A,{id:"combo-chart-aggregate",size:"small",value:b,sx:{width:"15ch"},label:"Aggregate by",onChange:e=>{u({aggregateBy:e.target.value})},children:[(0,r.jsx)(y.A,{value:"none",children:"None"}),(0,r.jsx)(y.A,{value:"1m",children:"1 minute"}),(0,r.jsx)(y.A,{value:"5m",children:"5 minutes"}),(0,r.jsx)(y.A,{value:"15m",children:"15 minutes"}),(0,r.jsx)(y.A,{value:"1h",children:"1 hour"}),(0,r.jsx)(y.A,{value:"6h",children:"6 hours"}),(0,r.jsx)(y.A,{value:"12h",children:"12 hours"}),(0,r.jsx)(y.A,{value:"24h",children:"24 hours"})]})]})]}),(0,r.jsx)(C.default,{id:"options-button","aria-controls":a?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":a?"true":void 0,endIcon:(0,r.jsx)(f.A,{}),onClick:e=>{o(e.currentTarget),i(e=>!e)},children:"Options"}),(0,r.jsxs)(w.A,{id:"options-menu",anchorEl:l,open:a,onClose:()=>i(!1),MenuListProps:{"aria-labelledby":"options-button"},children:[(0,r.jsx)(M.A,{children:"Type"}),(0,r.jsx)(E,{checked:"bar"===c,onClick:()=>u({type:"bar"}),children:"Bar"}),(0,r.jsx)(E,{checked:"line"===c,onClick:()=>u({type:"line"}),children:"Line"}),(0,r.jsx)(T.default,{}),(0,r.jsx)(P,{checked:h,onClick:()=>u({cumulative:!h}),children:"Cumulative"}),(0,r.jsx)(P,{checked:m,onClick:()=>u({utc:!m}),children:"UTC"})]})]})]})}},26695:(e,t,a)=>{a.d(t,{Dc:()=>h,E5:()=>d,Hg:()=>u,XA:()=>m,eP:()=>c});var r=a(89489),n=a(99776),i=a(80549),l=a(12115);let o=async e=>{try{return await e.get("ui/config",{throwHttpErrors:!1}).json()}catch(e){return{}}},s=async(e,t)=>await e.put("ui/config",{json:t}).json(),u=()=>{let e=(0,r.JN)(),t=(0,n.jE)();return(0,i.n)({mutationFn:t=>s(e,t),onMutate:async e=>{await t.cancelQueries({queryKey:["config"]});let a=t.getQueryData(["config"]);return t.setQueryData(["config"],e),{previousConfig:a}},onError:(e,a,r)=>{t.setQueryData(["config"],null==r?void 0:r.previousConfig)},onSettled:async()=>{await t.invalidateQueries({queryKey:["config"]})}})},c=(e,t)=>{var a;let n=(0,r.V8)(["config"],e=>o(e),{refetchInterval:6e4,disableHooks:!0}).data,i=u(),s=(0,l.useCallback)(t=>{let a={...n,[e]:t};i.mutate(a)},[e,i,n]);return[null!=(a=n?n[e]:void 0)?a:t,s]},d=()=>{let[e,t]=c("dashboard",{resampling:!1,statisticsCard:{hiddenCounterGroupIds:[],showCumulative:!1,showArea:!1,zoom:"24h"},comboChartPreferences:{}}),a=(0,l.useCallback)(a=>{t({...e,statisticsCard:{...e.statisticsCard,hiddenCounterGroupIds:a}})},[e,t]);return[e.statisticsCard.hiddenCounterGroupIds,a]},m=e=>{let[t,a]=c("dashboard",{resampling:!1,statisticsCard:{hiddenCounterGroupIds:[],showCumulative:!1,showArea:!1,zoom:"24h"},comboChartPreferences:{}}),r=(0,l.useMemo)(()=>t.comboChartPreferences||{},[t.comboChartPreferences]),n=(0,l.useMemo)(()=>{var t;return null!=(t=r[e])?t:{type:"bar",zoom:"24h",utc:!1,cumulative:!1,aggregateBy:"1h"}},[r,e]),i=(0,l.useCallback)(i=>{a({...t,comboChartPreferences:{...r,[e]:{...n,...i}}})},[r,a,e,n,t]);return[n,i]},h=(e,t)=>{var a;let[r,n]=c("editor",{autoCheckEnabled:!1,autoSaveEnabled:!0}),i=(0,l.useCallback)(t=>{n({...r,[e]:t})},[r,e,n]);return[null!=(a=r?r[e]:void 0)?a:t,i]}},37359:(e,t,a)=>{a.d(t,{BV:()=>i,fp:()=>r,lR:()=>l,xY:()=>o});function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{maxSigDigits:a=3,spaceBetween:r=!0}=t,{value:n,unit:i}=!Number.isFinite(e)||e<=0?{value:0,unit:"\xb5s",divisor:1}:e>=864e8?{value:e/864e8,unit:"d",divisor:864e8}:e>=36e8?{value:e/36e8,unit:"h",divisor:36e8}:e>=6e7?{value:e/6e7,unit:"min",divisor:6e7}:e>=1e6?{value:e/1e6,unit:"s",divisor:1e6}:e>=1e3?{value:e/1e3,unit:"ms",divisor:1e3}:{value:e,unit:"\xb5s",divisor:1},l=function(e,t){if(!Number.isFinite(e)||0===e)return"0";let a=Math.abs(e);if(a>=1){let r=Math.max(0,t-(Math.floor(Math.log10(a))+1));return e.toFixed(r).replace(/\.?0+$/,"")}return e.toPrecision(t).replace(/\.?0+$/,"")}(n,a);return r?"".concat(l," ").concat(i):"".concat(l).concat(i)}function n(e){return!Number.isFinite(e)||e<=0?{unit:"\xb5s",divisor:1,max:0}:e>=864e8?{unit:"d",divisor:864e8,max:e}:e>=36e8?{unit:"h",divisor:36e8,max:e}:e>=6e7?{unit:"min",divisor:6e7,max:e}:e>=1e6?{unit:"s",divisor:1e6,max:e}:e>=1e3?{unit:"ms",divisor:1e3,max:e}:{unit:"\xb5s",divisor:1,max:e}}function i(e){if(!e||0===e.length)return n(0);let t=0;for(let a of e)"number"==typeof a&&a>t&&(t=a);return n(t)}function l(e){return t=>{let a,r="number"==typeof t?t:Number(t);if(!Number.isFinite(r))return"0 ".concat(e.unit);let n=r/e.divisor;if(0===n)return"0 ".concat(e.unit);let i=Math.abs(n);if(i>=1){let e=Math.max(0,3-(Math.floor(Math.log10(i))+1));a=n.toFixed(e)}else a=n.toPrecision(3);return a.includes(".")&&(a=a.replace(/\.?0+$/,"").replace(/\.$/,"")),"".concat(a," ").concat(e.unit)}}function o(e){return"Time spent (".concat(e.unit,")")}},66155:(e,t,a)=>{a.d(t,{D:()=>n});var r=a(95704);let n=()=>r.env.RADIATOR_UI_BASE_PATH;if(!r.env.RADIATOR_UI_BASE_PATH)throw Error("RADIATOR_UI_BASE_PATH is not defined")},70303:(e,t,a)=>{a.d(t,{Iy:()=>s,T3:()=>u,e_:()=>o,vf:()=>c});var r=a(20556);let n=r.g1(r.Yj(),r.L5()).optional(),i=r.Ik({message:r.Yj().optional()}).catchall(r.L5()).optional(),l=r.g1(r.Yj(),r.L5()).optional();function o(e,t,a){try{let n=r.vk((e,t)=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){t.addIssue({code:"custom",message:e.message})}return e},t).safeParse(e);if(n.success)return n.data;throw Error("Error while parsing JSON to ".concat(a,":\n\n").concat(n.error,"\n\nInput: ").concat(e))}catch(e){return}}let s=e=>o(e,n,"log entry"),u=e=>o(e,i,"HTTP error response"),c=e=>o(e,l,"DataGrid state")},74406:(e,t,a)=>{a.d(t,{store:()=>r});let r=(0,a(80074).y$)()},79536:(e,t,a)=>{a.d(t,{t:()=>i});var r=a(20556),n=a(95704);let i=r.KC([r.eu("management"),r.eu("docs")]).optional().default("management").parse(n.env.RADIATO_UI_PUBLIC_BUILD_MODE)},84938:(e,t,a)=>{a.d(t,{W:()=>s});var r=a(89489),n=a(9620),i=a(11515),l=a(12115);let o=async(e,t,a)=>{let r=t.join("/"),n=await e.get("string"==typeof a?"statistics/counter/time-series/".concat(r):"statistics/counters/time-series/".concat(r)).json(),i=n.map(e=>({...e,timestamp:new Date(e.timestamp)}));return n.flatMap((e,t)=>{let a,r=i[t-1];if(!r)return[];if(Array.isArray(e.value)){let t=Array.isArray(r.value)?r.value:[r.value];a=e.value.map((e,a)=>{var r;return e-(null!=(r=t[a])?r:0)})}else if("number"==typeof e.value&&"number"==typeof r.value)a=e.value-r.value;else throw Error("Mixed number and array types detected in timeseries reply");return[{timestamp:new Date(e.timestamp),value:a}]})},s=(e,t)=>{let a=(0,r.JN)(),s=(0,r.tt)(),u=(0,i.E)({queries:e.map(e=>{let[t,r]=e;return{queryKey:["timeseries",...t],queryFn:()=>o(a,t,r.group),refetchInterval:s?6e4:void 0}})}),c=u.some(e=>e.isLoading),d=u.some(e=>e.isError);return{timeseries:(0,l.useMemo)(()=>Object.fromEntries(e.map((e,a)=>{let[r,i]=e,l=u[a],o=(0,n.O)(r);return[o,Object.fromEntries(i.values.map((e,a)=>{var r;let[n]=e;return[t?"".concat(o,"-").concat(n):n,(null!=(r=null==l?void 0:l.data)?r:[]).map(e=>{var t;return{...e,value:"number"==typeof e.value?e.value:null!=(t=e.value[a])?t:0}})]}))]})),[e,u,t]),isLoading:c,isError:d}}},89489:(e,t,a)=>{a.d(t,{DB:()=>b,JN:()=>D,Ot:()=>C,PP:()=>I,V8:()=>w,Vw:()=>M,ed:()=>j,en:()=>x,tt:()=>k});var r=a(53455),n=a(34049),i=a(99776),l=a(67364),o=a(89460),s=a(77202),u=a(51208),c=a(12115),d=a(70303),m=a(99686),h=a(74406),g=a(66155),v=a(79536);let p=(0,u.tG)("CurrentUser",void 0,(0,u.KU)(()=>localStorage)),f=(0,u.tG)("LoginBaseUrl","/api/v1"),y=(0,u.tG)("AutoRefresh",!0),b=()=>{let e=(0,s.useAtomValue)(p);return"docs"!==v.t&&void 0!==e},x=()=>(0,s.useSetAtom)(p),A=()=>{let e=(0,s.useAtomValue)(p);return"docs"!==v.t&&e},j=()=>(0,s.useAtom)(f),k=()=>(0,s.useAtomValue)(y),C=()=>(0,s.useSetAtom)(y),w=(e,t,a)=>{var i,l,o;let s=!!A(),u=null==(i=null==a?void 0:a.enabled)||i,c=s&&u,d=k(),m=D(null==a?void 0:a.disableHooks),h=d&&!!(null==(l=null==a?void 0:a.refetch)||l),g=null!=(o=null==a?void 0:a.refetchInterval)?o:1e4,v=(0,r.I)({queryKey:e,queryFn:()=>t(m),refetchInterval:h?g:void 0,refetchOnWindowFocus:h,placeholderData:(null==a?void 0:a.keepPreviousData)?n.rX:void 0,enabled:c});return c||(v={...v,isLoading:!0}),v},M=(e,t,a,r)=>{var n,o;let s=(0,i.jE)(),u=A(),d=k()&&!!(null==(n=null==r?void 0:r.refetch)||n),m=null!=(o=null==r?void 0:r.refetchInterval)?o:1e4,h=!!u,g=D(null==r?void 0:r.disableHooks),v=(0,l.q)({queryKey:e,queryFn:e=>{let{pageParam:a}=e;return t(g,a)},initialPageParam:void 0,getNextPageParam:a,refetchInterval:d?m:void 0,enabled:h,staleTime:1/0});h||(v={...v,isLoading:!0}),(0,c.useEffect)(()=>{if(!d)return;let t=setInterval(async()=>{h&&!v.isFetchingNextPage&&(await v.fetchNextPage(),s.setQueryData(e,e=>{var t;let a=[...e?e.pages:[]],r=[...e?e.pageParams:[]];return(null==(t=a.at(-1))?void 0:t.length)===0&&(a.pop(),r.pop()),{pages:a,pageParams:r}}))},1e3);return()=>clearInterval(t)},[v.fetchNextPage,v.isFetchingNextPage,h,v,s,u,d,e]);let p=(0,c.useMemo)(()=>{var e,t;return null!=(t=null==(e=v.data)?void 0:e.pages.flat())?t:[]},[v.data]);return{...v,data:p}},T=(e,t)=>function(){for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];let[i,l]=r,o=null!=l?l:{},s=void 0!==o.json||void 0!==o.body;return t.call(e,i,s?o:{...o,json:{}})},D=e=>((e,t)=>{let a=o.Ay.extend({prefixUrl:e,credentials:"include",hooks:{beforeError:t?[]:[async e=>{var t,a,r;let n=e.message,i=null!=(t=e.response.headers.get("X-Context-Id"))?t:"<no ctx id>",l=await e.response.text().catch(()=>null),o=l?(0,d.T3)(l):null,s=null!=(r=null!=(a=null==o?void 0:o.message)?a:null==l?void 0:l.slice(0,500))?r:"";return l&&(e.body=l),o&&(e.json=o),401===e.response.status?((0,m.z)("You are not authenticated, please login again."),h.store.set(p,void 0)):"GET"===e.request.method?(0,m.z)("Error while fetching data with ".concat(i,", retrying...\n").concat(n,"\n").concat(s)):(0,m.z)("HTTP request error with ".concat(i,":\n").concat(n,"\n").concat(s)),e}]}});return a.post=T(a,a.post),a.put=T(a,a.put),a})((0,s.useAtomValue)(f),e),I=e=>"".concat((0,g.D)()).concat(e)},90482:(e,t,a)=>{a.d(t,{Y:()=>r});let r=(e,t)=>{let a;return Number.isNaN((a="string"==typeof e||"number"==typeof e?new Date(e):e).getTime())?"[Invalid date]":new Intl.DateTimeFormat("default",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:t.utc?"UTC":void 0,timeZoneName:"short"}).format(a)}},99686:(e,t,a)=>{a.d(t,{z:()=>l});var r=a(71991);let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=0xdeadbeef^t,r=0x41c6ce57^t;for(let t=0,n;t<e.length;t++)a=Math.imul(a^(n=e.charCodeAt(t)),0x9e3779b1),r=Math.imul(r^n,0x5f356495);return a=Math.imul(a^a>>>16,0x85ebca6b)^Math.imul(r^r>>>13,0xc2b2ae35),(r=Math.imul(r^r>>>16,0x85ebca6b)^Math.imul(a^a>>>13,0xc2b2ae35)).toString(36).padStart(7,"0")+a.toString(36).padStart(7,"0")},i=new Map,l=(e,t)=>{var a;console.error(e);let l=n(null!=t?t:e),o=null!=(a=i.get(l))?a:0;Date.now()-o<12e4||(i.set(l,Date.now()),(0,r.M8)({message:e,variant:"error",autoHideDuration:15e3,style:{whiteSpace:"pre-line"}}))}}}]);