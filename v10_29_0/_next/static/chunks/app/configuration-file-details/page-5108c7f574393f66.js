(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6739],{13592:(e,t,n)=>{var r={"./simpleWorker":20987,"./simpleWorker.js":20987};function i(e){return Promise.resolve().then(()=>{if(!n.o(r,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n(r[e])})}i.keys=()=>Object.keys(r),i.id=13592,e.exports=i},17651:(e,t,n)=>{"use strict";n.d(t,{ConfigurationFileDetail:()=>eh});var r,i=n(95155),a=n(50927),o=n(60149),l=n(29767),s=n(25957),c=n(41983),u=n(34880),d=n(25635),f=n(28548),g=n(84578),m=n(22003),h=n(70690),p=n(2778),v=n(52363),b=n(65036),x=n(50001),k=n(75912),y=n(4474),C=n(52005),j=n(78470),w=n(78065),A=n(86973),S=n(17681),E=n(49501),F=n(21067),D=n(99944),P=n(22822),T=n(37285),_=n(26466),N=n(14287),M=n(4484),z=n(36741),I=n(31102),R=n(11665),L=n(52277),W=n(12115),B=n(20063),U=n(71991),K=n(15378),$=n(85778),H=n(5379),O=n(89489);function V(e){return"string"==typeof e?e:e.toString()}let q=null,Z=null,G=(e,t,n)=>{let r=e[t];if(r)return r;let i=n();return e[t]=i,i},Q=async()=>{let e=await fetch((0,O.PP)("/docs/all/"));if(!e.ok)throw Error("Failed to fetch completion items: ".concat(e.status," ").concat(e.statusText));return(await e.json()).items.reduce((e,t)=>(((e,t,n)=>{if(0===n.length)return G(e,"global",()=>({items:[]})).items.push(t);for(let r of n){if(0===r.length){G(e,"global",()=>({items:[]})).items.push(t);continue}if(1===r.length){let n=r[0];G(e,V(n),()=>({currentContext:n,items:[]})).items.push(t);continue}G(e,r.map(V).join("."),()=>({contextPath:r,items:[]})).items.push(t)}})(e,(e=>{let t="variable"===e.type?K.languages.CompletionItemKind.Variable:"statement"===e.type?K.languages.CompletionItemKind.Keyword:K.languages.CompletionItemKind.Module;return{label:e.id,kind:t,detail:e.shortDescription,description:e.content,insertText:e.insertText,insertTextRules:K.languages.CompletionItemInsertTextRule.InsertAsSnippet,keyword:e.id}})(t),t.contextPath.map(e=>e.map(e=>(function(e){if(!e.startsWith("/"))return e;let t=e.lastIndexOf("/");if(t<=0)return e;let n=e.slice(1,t),r=e.slice(t+1);if(0===n.length)return e;try{return new RegExp(n,r)}catch(t){throw Error("Invalid regex in ".concat(e),{cause:t})}})(e)))),e),{})};async function X(){return q||Z||(Z=Q().then(e=>(q=e,Z=null,e)).catch(e=>(console.error("Failed to load completion items:",e),Z=null,q={})))}let Y={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string"]},{open:"/",close:"/",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"/",close:"/"}],folding:{markers:{start:RegExp("^\\s*#region\\b"),end:RegExp("^\\s*#endregion\\b")}}},J={defaultToken:"invalid",keywords:["logging","servers","backends","aaa","policy","handler","clients","listen","authentication","authorization","accounting","pre-authentication","post-authentication","pre-authorization","post-authorization","pre-accounting","post-accounting","pre-client","post-client","certificates","template","conditions","statistics","caches","eap","eap-md5","eap-tls","eap-ttls","eap-peap","eap-teap","eap-mschapv2","pap","chap","mschap","mschapv2","radius","tacacs","http","udp","tcp","tls","protocol","radsec","file","sql","ldap","http","database","application","console","syslog","memory","logger","if","then","else","any","all","with","do","map","modify","log","backend","query","accept","reject","continue","ignore","challenge","set","starts","ends","contains","matches","include","filename","port","ip","bind","address","loglevel","size","facility","buffer","format","message","name","secret","shared_secret","certificate","certificate_key","client_ca_certificate","require_client_certificate","session_timeout","idle_timeout","termination_action","tunnel_type","tunnel_medium_type","tunnel_private_group_id","filter_id","reason","status","action","priority","validity_begin","validity_end","description","tags","mac_address","mac_addresses","group_id","user_id","vars","cert"],typeKeywords:["user","group","role","password","identity","method","result","reason","client","server","request","response","timestamp","datetime"],operators:["=","!=","==","<=",">=","<",">","=>","&&","||","!","+","-","*","/","%"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/#.*$/,"comment"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/include\s+/,"keyword","@include"],[/\/(?![\/\*])[^\\/\n]*(?:\\.[^\\/\n]*)*\//,"regexp"],[/[a-z_\$][\w$-]*/,{cases:{"@typeKeywords":"type","@keywords":"keyword","@default":"identifier"}}],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'/,"string","@string_single"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/\b(?:[0-9]{1,3}\.){3}[0-9]{1,3}\b/,"number.ip"],[/\b(?:[0-9a-fA-F]{0,4}:){2,7}[0-9a-fA-F]{0,4}\b/,"number.ip"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],{include:"@whitespace"},[/%\{[^}]+\}/,"variable"],[(r=["aaa","user","request","response","session","auth","radius","tacacs","ldap","sql","http","eap","tls","server","client","backend","cache","nas","certificate","policy","handler","accounting","authentication","authorization","timestamp","datetime","vars"],new RegExp("(?:".concat(r.join("|"),")\\.[a-zA-Z_][\\w.-]*"))),"variable.identifier"],[/[a-zA-Z_][\w-]*\.[a-zA-Z_][\w.-]*(?:\.[a-zA-Z_][\w-]*)*/,"identifier.attribute.dotted"],[/[a-zA-Z_][\w.-]*\[/,"identifier.indexed","@indexer"],[/[a-zA-Z_][\w-]+/,"identifier.attribute"],[/;/,"delimiter"],[/,/,"delimiter"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],include:[[/"([^"\\]|\\.)*"/,"string.include","@pop"],[/'([^'\\]|\\.)*'/,"string.include","@pop"],[/[^\s;]+/,"string.include","@pop"],["","","@pop"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],regexp:[[/[^\\/]+/,"regexp"],[/@escapes/,"regexp.escape"],[/\\./,"regexp.escape.invalid"],[/\//,"regexp","@pop"]],indexer:[[/[^\]]+/,"identifier.index"],[/\]/,"identifier.indexed","@pop"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/#.*$/,"comment"]]}},ee={base:"vs",inherit:!0,rules:[{token:"comment",foreground:"008000",fontStyle:"italic"},{token:"keyword",foreground:"0000FF",fontStyle:"bold"},{token:"type",foreground:"008080",fontStyle:"bold"},{token:"string",foreground:"A31515"},{token:"string.include",foreground:"A31515",fontStyle:"italic"},{token:"string.invalid",foreground:"FF0000",fontStyle:"italic"},{token:"string.escape",foreground:"FF6600"},{token:"string.escape.invalid",foreground:"FF0000"},{token:"regexp",foreground:"D16969"},{token:"regexp.escape",foreground:"FF6600"},{token:"regexp.escape.invalid",foreground:"FF0000"},{token:"number",foreground:"098658"},{token:"number.float",foreground:"098658"},{token:"number.hex",foreground:"098658"},{token:"number.ip",foreground:"795E26",fontStyle:"bold"},{token:"operator",foreground:"000000"},{token:"delimiter",foreground:"000000"},{token:"variable",foreground:"E64100",fontStyle:"italic"},{token:"variable.identifier",foreground:"D2691E",fontStyle:"bold"},{token:"identifier",foreground:"000000"},{token:"identifier.attribute",foreground:"001080"},{token:"identifier.attribute.dotted",foreground:"8B4513",fontStyle:"italic"},{token:"identifier.indexed",foreground:"001080",fontStyle:"bold"},{token:"identifier.index",foreground:"0070C0"},{token:"invalid",foreground:"FF0000",background:"FFCCCC"}],colors:{"editor.foreground":"#000000","editor.background":"#FFFFFF","editor.selectionBackground":"#ADD6FF","editor.lineHighlightBackground":"#F0F0F0"}},et={base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"6A9955",fontStyle:"italic"},{token:"keyword",foreground:"569CD6",fontStyle:"bold"},{token:"type",foreground:"4EC9B0",fontStyle:"bold"},{token:"string",foreground:"CE9178"},{token:"string.include",foreground:"CE9178",fontStyle:"italic"},{token:"string.invalid",foreground:"F44747",fontStyle:"italic"},{token:"string.escape",foreground:"D7BA7D"},{token:"string.escape.invalid",foreground:"F44747"},{token:"regexp",foreground:"D16969"},{token:"regexp.escape",foreground:"D7BA7D"},{token:"regexp.escape.invalid",foreground:"F44747"},{token:"number",foreground:"B5CEA8"},{token:"number.float",foreground:"B5CEA8"},{token:"number.hex",foreground:"B5CEA8"},{token:"number.ip",foreground:"DCDCAA",fontStyle:"bold"},{token:"operator",foreground:"D4D4D4"},{token:"delimiter",foreground:"D4D4D4"},{token:"variable",foreground:"FF8C42",fontStyle:"italic"},{token:"variable.identifier",foreground:"FFA500",fontStyle:"bold"},{token:"identifier",foreground:"D4D4D4"},{token:"identifier.attribute",foreground:"9CDCFE"},{token:"identifier.attribute.dotted",foreground:"DEB887",fontStyle:"italic"},{token:"identifier.indexed",foreground:"9CDCFE",fontStyle:"bold"},{token:"identifier.index",foreground:"4FC1FF"},{token:"invalid",foreground:"F44747",background:"5A1D1D"}],colors:{"editor.foreground":"#D4D4D4","editor.background":"#1E1E1E","editor.selectionBackground":"#264F78","editor.lineHighlightBackground":"#2A2D2E"}};function en(e,t){let n=e.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column}),r=[];for(let e of n.split("\n")){let t=e.trim();if(t.startsWith("#")||t.startsWith("//")||""===t)continue;let n=t.match(/^(\w[\w-]*)\s+"[^"]*"\s*\{/);if(n&&n[1])r.push(n[1]);else if((n=t.match(/^(\w[\w-]*)\s*(?:(?:all|any|then|else)\s*)?\{/))&&n[1]){let e=n[1];r.push(e)}let i=function(e){let t=0,n=!1,r=!1,i=!1,a=!1;for(let o=0;o<e.length;o++){let l=e[o];if(a){a=!1;continue}if("\\"===l){a=!0;continue}if("/"===l&&!n&&!r)if(i){i=!1;continue}else{let t=e.substring(0,o).replace(/\s+$/,"");if(t.match(/[=(\[{,]$/)||""===t){i=!0;continue}}if('"'===l&&!r&&!i){n=!n;continue}if("'"===l&&!n&&!i){r=!r;continue}!n&&!r&&!i&&("{"===l?t++:"}"===l&&t--)}return t}(t);if(i>0)for(let e=0;e<i;e++);else if(i<0)for(let e=0;e<Math.abs(i);e++)r.length>0&&r.pop()}return r}let er=(e,t)=>"string"==typeof e?t===e:e.test(t),ei=(e,t,n)=>{let r=e[e.length-1];if(r){if(!t.currentContext&&(!t.contextPath||0===t.contextPath.length)||t.currentContext&&!er(t.currentContext,r)||t.contextPath&&(t.contextPath.length<e.length&&void 0===t.currentContext||!t.contextPath.every((t,n)=>{let r=e[n];return void 0!==r&&er(t,r)})))return!1}else if(t.contextPath&&t.contextPath.length>0||t.currentContext)return!1;return!0},ea={provideCompletionItems:async(e,t)=>{let n=[],r=e.getWordUntilPosition(t),i={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:r.startColumn,endColumn:r.endColumn},a=en(e,t);for(let e of Object.values(await X()))ei(a,e)&&n.push(...e.items.map(e=>({...e,range:i,documentation:e.description?{value:e.description,isTrusted:!0}:void 0})));return{suggestions:n}}},eo={provideHover:async(e,t)=>{let n,r=function(e,t){let n=e.getLineContent(t.lineNumber),r=t.column;if(r>n.length)return null;let i=n.charAt(r-1);if(!/[a-zA-Z0-9_$.-]/.test(i))return null;let a=r;for(;a>1;){let e=n.charAt(a-2);if(!/[a-zA-Z0-9_$.-]/.test(e))break;a--}let o=r;for(;o<=n.length;){let e=n.charAt(o-1);if(!/[a-zA-Z0-9_$.-]/.test(e))break;o++}return{word:n.substring(a-1,o-1),startColumn:a,endColumn:o}}(e,t);if(!r)return;let i=e.getLineContent(t.lineNumber).substring(0,t.column-1).match(/%\{[^}]*$/);if(i)return{range:new K.Range(t.lineNumber,t.column-i[0].length+2,t.lineNumber,t.column),contents:[{value:"**Variable Reference**",isTrusted:!0},{value:"Dynamic variable that will be substituted at runtime with the actual value from the request context.",isTrusted:!0},{value:"**Syntax:** `%{variable.attribute}`",isTrusted:!0},{value:"**Examples:**\n```radiator-config\n%{user.name}\n%{client.ip}\n%{request.nas-identifier}\n%{response.reply-message}\n```",isTrusted:!0}]};let a=en(e,t);for(let e of Object.values(await X())){if(!ei(a,e))continue;let t=e.items.find(e=>{let t="string"==typeof e.label?e.label:e.label.label;return(e.keyword||t)===r.word&&e.description});if(t){n=t;break}}if(!n)return;let o=[];return n.description?o.push({value:n.description,isTrusted:!0}):o.push({value:"**".concat(r.word,"**"),isTrusted:!0}),{range:new K.Range(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn),contents:o}}};var el=n(58349);$.wG.config({monaco:K});let es=e=>{let{resolvedTheme:t}=(0,H.D)(),n=(0,W.useRef)(null),r=(0,W.useRef)(null),{onCheckConfiguration:a,autoCheckEnabled:o}=e,l=(0,W.useCallback)(e=>{o&&a&&a({type:"inline",data:e},!0)},[a,o]),s=(0,el.Y)(l,500);(0,W.useEffect)(()=>{let e=function(e){let t=[];return e.languages.register({id:"radiator-config"}),t.push(e.languages.setLanguageConfiguration("radiator-config",Y)),t.push(e.languages.setMonarchTokensProvider("radiator-config",J)),t.push(e.languages.registerCompletionItemProvider("radiator-config",ea)),t.push(e.languages.registerHoverProvider("radiator-config",eo)),e.editor.defineTheme("radiator-config-light",ee),e.editor.defineTheme("radiator-config-dark",et),t}(K);return()=>{e.forEach(e=>e.dispose())}},[]),(0,W.useEffect)(()=>{e.errors&&e.errors.length>0?(e=>{if(!r.current)return;let t=e.filter(e=>null!==e.line).map(e=>({startLineNumber:e.line,endLineNumber:e.line,startColumn:1,endColumn:Number.MAX_SAFE_INTEGER,message:e.message,severity:K.MarkerSeverity.Error,source:"radiator-config"}));K.editor.setModelMarkers(r.current,"radiator-config-errors",t)})(e.errors):r.current&&K.editor.setModelMarkers(r.current,"radiator-config-errors",[])},[e.errors]);let{setContents:c}=e,u=(0,W.useCallback)(t=>{t&&c(t),t&&e.autoCheckEnabled&&s(t)},[c,e.autoCheckEnabled,s]);return(0,i.jsx)($.Ay,{className:"rounded-lg",value:e.contents,onChange:u,onMount:t=>{var i;n.current=t,r.current=t.getModel(),null==(i=e.onEditorReady)||i.call(e,t)},theme:"light"===t?"radiator-config-light":"radiator-config-dark",defaultLanguage:"radiator-config",options:{hover:{delay:300,sticky:!0,above:!1},lineHeight:22}})};var ec=n(47601),eu=n(38661),ed=n(48606),ef=n(9617),eg=n(26695),em=n(2821);let eh=()=>{var e,t,n,r,K;let $=(0,B.useSearchParams)(),H=(0,B.useRouter)(),O=null!=(n=$.get("filename"))?n:"",{data:V,isLoading:q,isFetching:Z,error:G}=(0,a.sP)(null!=O?O:""),Q=(null==V?void 0:V.is_binary)===!0,X=(0,W.useRef)(""),[Y,J]=(0,W.useState)("");X.current===(null==V?void 0:V.data)||(null==V?void 0:V.data)===void 0||Q||Z||(X.current=null!=(r=null==V?void 0:V.data)?r:"",J(null!=(K=null==V?void 0:V.data)?K:""));let ee=$.get("line"),et=ee?parseInt(ee,10):null,en=$.get("autoCheck"),er=et&&et>0,[ei,ea]=(0,W.useState)(null),eo=(0,W.useMemo)(()=>{if((null==V?void 0:V.data)!==void 0&&!Q){var e;let t=(null==(e=V.data.split("\n")[0])?void 0:e.trim())||"";return(0,ed.iV)(t)}return null},[null==V?void 0:V.data,Q]),el=!!(eo&&(null==(e=eo.originalTemplate)?void 0:e.filename)),eh=(0,W.useMemo)(()=>{var e;return el&&(null==eo||null==(e=eo.originalTemplate)?void 0:e.filename)?{filename:eo.originalTemplate.filename,description:"Template: ".concat(eo.originalTemplate.filename)}:null},[el,null==eo||null==(t=eo.originalTemplate)?void 0:t.filename]),ep=(0,W.useMemo)(()=>{if(el&&eo){var e;let t={};for(let n of null!=(e=eo.items)?e:[])n&&"value"in n&&(t[n.id]=n.value);return t}return{}},[el,eo]),ev=(null==V?void 0:V.data)!==Y,eb=ei||(er?"editor":el?"template":"editor"),[ex,ek]=(0,W.useState)(null),[ey,eC]=(0,W.useState)(!1),[ej,ew]=(0,W.useState)(null),[eA,eS]=(0,W.useState)(null),eE=(0,W.useCallback)(()=>eS(null),[]),eF=(0,W.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];ek([{line:null,file:null,causes:[],message:"Unknown error occurred while ".concat(t?"checking":"uploading"," configuration: ").concat(e)}])},[ek]),[eD,eP]=(0,eg.Dc)("autoCheckEnabled",!1),[eT,e_]=(0,eg.Dc)("autoSaveEnabled",!0),eN=(0,W.useRef)(!1),eM=(0,W.useRef)(null),ez=(0,a.vz)({resetFileQuery:!1,onSuccess:()=>{eN.current||(0,U.M8)("Configuration saved successfully!",{variant:"success"}),eN.current=!1}}),{mutate:eI}=ez,eR=(0,a.KD)(),{mutate:eL}=eR,eW=(0,a.ie)(),eB=(0,W.useCallback)(async e=>{O&&void 0!==Y&&(e&&(eN.current=!0),eI({fileName:O,data:new Blob([Y],{type:"text/plain"})},{onError:async e=>{eN.current=!1,await e.response.json().then(e=>{"message"in e?eF(e.message):"errors"in e&&ek(e.errors)}).catch(()=>{eF(e.message)})}}))},[O,Y,eI,eF]),eU=(0,W.useCallback)(async()=>{await eB(!1)},[eB]),[eK,e$]=(0,W.useState)({canSubmit:!1,submitting:!1,touched:!1}),eH=(0,W.useRef)(null);(0,W.useEffect)(()=>{if(!eT||!O)return;let e="editor"===eb&&ev&&!ez.isPending,t="template"===eb&&el&&eK.touched&&eK.canSubmit&&!eK.submitting;if(!e&&!t)return;let n=setTimeout(async()=>{if(e)await eB(!0);else if(t){var n;null==(n=eH.current)||n.submit({auto:!0})}},1e3);return()=>clearTimeout(n)},[eT,O,eb,ev,ez.isPending,eB,el,eK.touched,eK.canSubmit,eK.submitting]),(0,W.useEffect)(()=>{let e=async e=>{(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),ez.isPending||await eU())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[ez.isPending,eU]);let eO=(0,W.useCallback)(async()=>{if(null==V?void 0:V.data){try{await navigator.clipboard.writeText(V.data)}catch(e){console.error("Failed to copy text: ",e),(0,U.M8)("Failed to copy configuration: ".concat(e),{variant:"error"});return}(0,U.M8)("Configuration copied to clipboard!",{variant:"success"})}},[null==V?void 0:V.data]),eV=(0,W.useCallback)(()=>{eC(!0)},[]),eq=(0,W.useCallback)(()=>{eC(!1)},[]),eZ=(0,W.useCallback)(e=>{ew(e.currentTarget)},[]),eG=(0,W.useCallback)(()=>{ew(null)},[]),eQ=(0,W.useCallback)(async()=>{await eO(),eG()},[eO,eG]),eX=(0,W.useCallback)(()=>{eV(),eG()},[eV,eG]),eY=(0,W.useCallback)((e,t)=>{ek(null),eL(e,{onError:async e=>{await e.response.json().then(e=>{"message"in e&&eF(e.message,!0)}).catch(()=>{eF(e.message,!0)})},onSuccess:e=>{e.ok?(ek(null),t||(0,U.M8)("Configuration is valid!",{variant:"success"})):ek(e.errors)}})},[eL,eF,ek]),eJ=(0,W.useCallback)(()=>{eY({type:"inline",data:Y})},[Y,eY]),e0=(0,W.useCallback)(async()=>{eY({type:"configDir",dirPath:null,level:"full"})},[eY]),e1=(0,W.useCallback)(e=>{eP(e.target.checked),e.target.checked||ek(null)},[eP]),e8=(0,W.useCallback)(e=>{e&&e!==O?H.push("/configuration-file-details?filename=".concat(encodeURIComponent(e))):H.refresh()},[H,O]),e4=(0,W.useRef)(null);(0,W.useEffect)(()=>{if("true"===en&&(null==V?void 0:V.data)&&O&&e4.current!==O){let e=setTimeout(()=>{e4.current=O,eY({type:"inline",data:V.data},!0)},0);return()=>clearTimeout(e)}},[en,null==V?void 0:V.data,O,eY]);let e9="editor"===eb&&ev||"template"===eb&&eK.touched,{dialogOpen:e5,confirmDiscard:e2,cancelDiscard:e6,guardedRouter:e7,interceptNavigation:e3}=function(e){let{hasUnsavedChanges:t,onDiscard:n,interceptAnchorClicks:r=!0,wrapRouter:i=!0}=e,a=(0,B.useRouter)(),[o,l]=(0,W.useState)(!1),[s,c]=(0,W.useState)(null),[u,d]=(0,W.useState)(null),f=(0,W.useRef)(null),g=(0,W.useRef)(!1),m=(0,W.useCallback)(()=>{f.current=null,c(null),d(null)},[]),h=(0,W.useCallback)(()=>{let e=f.current;m(),e&&e()},[m]),p=(0,W.useCallback)(()=>{n(),h(),l(!1)},[h,n]),v=(0,W.useCallback)(()=>{if(!g.current)try{history.pushState({__unsaved_guard:!0},"",window.location.href),g.current=!0}catch(e){}m(),l(!1)},[m]),b=(0,W.useCallback)((e,n)=>{if(!t)return void e();f.current=e,c("navigation"),d(null!=n?n:null),l(!0)},[t]),x=!1===i?null:{push:e=>b(()=>a.push(e),e),replace:e=>b(()=>a.replace(e),e),back:()=>b(()=>{window.history.length>1?a.back():a.push("/")},"back")};return(0,W.useEffect)(()=>{if(!r)return;let e=e=>{if(e.defaultPrevented||0!==e.button||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;let n=e.target;for(;n&&"A"!==n.tagName;)n=n.parentElement;if(!n)return;let r=n,i=r.getAttribute("href");if(!i||i.startsWith("#")||"_blank"===r.target||r.host&&r.host!==window.location.host||i.startsWith("http")||!t)return;e.preventDefault();let o=i.startsWith(ef.o2)?i.slice(ef.o2.length):i;b(()=>a.push(o),i)};return document.addEventListener("click",e,!0),()=>document.removeEventListener("click",e,!0)},[t,r,b,a]),(0,W.useEffect)(()=>{let e=e=>{t&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[t]),(0,W.useEffect)(()=>{if(!g.current)try{history.pushState({__unsaved_guard:!0},"",window.location.href),g.current=!0}catch(e){}},[]),(0,W.useEffect)(()=>{let e=e=>{g.current&&(t?(f.current=()=>{setTimeout(()=>{history.back()},0)},c("navigation"),d("back"),l(!0),g.current=!1):(g.current=!1,setTimeout(()=>{history.back()},0)))};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[t]),{dialogOpen:o,confirmDiscard:p,cancelDiscard:v,pendingReason:s,pendingDestination:u,guardedRouter:x,interceptNavigation:b}}({hasUnsavedChanges:e9,onDiscard:()=>{"editor"===eb?(null==V?void 0:V.data)&&(null==V?void 0:V.data)!==Y&&J(V.data):"template"===eb&&e$(e=>({...e,touched:!1}))}}),te=(0,W.useCallback)(()=>{let e=O.includes("/")?O.split("/").slice(0,-1).join("/"):"",t=e?"/configuration-files?dir=".concat(encodeURIComponent(e)):"/configuration-files";e7&&e7.push(t)},[O,e7]),tt=(0,W.useCallback)(async()=>{if(O){try{await eW.mutateAsync(O)}catch(e){(0,U.M8)("Failed to delete configuration file: ".concat(e instanceof Error?e.message:String(null!=e?e:"Unknown error")),{variant:"error"});return}(0,U.M8)("Configuration file deleted successfully!",{variant:"success"}),te()}},[O,eW,te]),tn=(0,W.useCallback)((e,t)=>{if(t!==eb){if(e9)return void e3(()=>ea(t),"tab switch");ea(t)}},[eb,e9,e3]);if(Q)return(0,i.jsxs)(l.default,{className:"mt-4",children:[(0,i.jsx)(s.default,{avatar:(0,i.jsx)(c.default,{onClick:te,size:"small","aria-label":"Back",children:(0,i.jsx)(N.default,{})}),title:(0,i.jsxs)(u.default,{className:"flex items-center gap-2 flex-wrap",children:[(0,i.jsx)(d.default,{variant:"h6",component:"h2",children:O||"(no file selected)"}),(0,i.jsx)(f.A,{size:"small",color:"default",label:"Binary"})]})}),(0,i.jsxs)(g.default,{children:[(0,i.jsx)(m.A,{severity:"info",children:"This file appears to be binary (UTF-8 decoding failed). It cannot be edited in the browser editor."}),(0,i.jsx)(d.default,{variant:"body2",color:"text.secondary",className:"mt-4",children:"To modify this file, replace it with an updated version using an external editor and upload the new file (overwriting this one), or remove it if it is not needed."}),(0,i.jsxs)(u.default,{className:"mt-4 flex gap-2",children:[(0,i.jsx)(h.default,{variant:"outlined",size:"small",onClick:te,startIcon:(0,i.jsx)(N.default,{}),children:"Back"}),(0,i.jsx)(h.default,{variant:"contained",color:"error",size:"small",onClick:()=>eC(!0),startIcon:(0,i.jsx)(M.A,{}),children:"Delete File"})]})]}),(0,i.jsxs)(p.A,{open:ey,onClose:()=>eC(!1),maxWidth:"xs",fullWidth:!0,children:[(0,i.jsx)(v.A,{children:"Delete File"}),(0,i.jsx)(b.A,{children:(0,i.jsxs)(x.A,{children:['Are you sure you want to delete "',O,'"? This action cannot be undone.']})}),(0,i.jsxs)(k.A,{children:[(0,i.jsx)(h.default,{variant:"outlined",onClick:()=>eC(!1),size:"small",children:"Cancel"}),(0,i.jsx)(h.default,{variant:"contained",color:"error",size:"small",onClick:async()=>{if(O){try{await eW.mutateAsync(O)}catch(e){(0,U.M8)("Failed to delete file: ".concat(e instanceof Error?e.message:null!=e?e:"Unknown error"),{variant:"error"});return}(0,U.M8)("File deleted successfully.",{variant:"success"}),eC(!1),te()}},children:"Delete"})]})]})]});if(q)return(0,i.jsxs)(o.T,{children:[(0,i.jsx)(s.default,{title:(0,i.jsxs)(u.default,{className:"flex items-center gap-4",children:[(0,i.jsx)(c.default,{onClick:te,size:"small","aria-label":"arrow back",children:(0,i.jsx)(N.default,{})}),(0,i.jsx)(d.default,{variant:"h6",component:"div",children:O})]})}),(0,i.jsx)(g.default,{className:"flex justify-center p-8",children:(0,i.jsx)(y.A,{})})]});if(G)return(0,i.jsxs)(o.T,{children:[(0,i.jsx)(s.default,{title:(0,i.jsxs)(u.default,{className:"flex items-center gap-4",children:[(0,i.jsx)(c.default,{onClick:te,size:"small","aria-label":"arrow back",children:(0,i.jsx)(N.default,{})}),(0,i.jsx)(d.default,{variant:"h6",component:"div",children:O})]})}),(0,i.jsx)(g.default,{children:(0,i.jsxs)(m.A,{color:"error",children:["Failed to load configuration file: ",O,". ",G.message]})})]});let tr=null;return ex&&ex.length>0?tr=(0,i.jsx)(eu.S,{errors:ex,fallbackToMessageWhenNoCauses:!0}):eD&&(tr=eR.isPending?(0,i.jsx)(m.A,{severity:"info",icon:(0,i.jsx)(y.A,{size:20}),children:"Checking configuration..."}):null===ex&&eR.isSuccess?(0,i.jsx)(m.A,{severity:"success",children:"Configuration is valid!"}):(0,i.jsx)(m.A,{className:"invisible"})),(0,i.jsxs)(l.default,{className:"h-full flex flex-col",children:[(0,i.jsx)(C.A,{className:(0,em.$)("transition-opacity",Z?"opacity-100":"opacity-0")}),(0,i.jsx)(s.default,{className:"overflow-x-auto",title:(0,i.jsxs)(u.default,{className:"flex items-center gap-4 pr-4",children:[(0,i.jsx)(c.default,{onClick:()=>{te()},size:"small","aria-label":"arrow back",children:(0,i.jsx)(N.default,{})}),(0,i.jsx)(d.default,{variant:"h6",component:"div",children:O}),el&&(0,i.jsx)(f.A,{label:"Template-Generated",size:"small",variant:"outlined",color:"secondary"}),"editor"===eb&&ev||"template"===eb&&eK.touched?(0,i.jsx)(f.A,{label:"Unsaved changes",size:"small",color:"warning",variant:"outlined"}):null]}),action:(0,i.jsxs)(u.default,{className:"flex items-center gap-2",children:[(!el||"editor"===eb)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.A,{title:"Check configuration",children:(0,i.jsx)("span",{children:(0,i.jsx)(h.default,{variant:"outlined",size:"small",startIcon:(0,i.jsx)(z.A,{}),loadingPosition:"start",onClick:e=>eS(e.currentTarget),disabled:eR.isPending||!Y&&!(null==V?void 0:V.data),loading:eR.isPending,children:"Check"})})}),(0,i.jsxs)(w.A,{anchorEl:eA,open:!!eA,onClose:eE,children:[(0,i.jsx)(A.A,{onClick:()=>{eE(),eJ()},disabled:eR.isPending,children:(0,i.jsx)(S.default,{primary:"Check syntax",secondary:"Fast parse validation"})}),(0,i.jsx)(A.A,{onClick:async()=>{eE(),await e0()},disabled:eR.isPending,children:(0,i.jsx)(S.default,{primary:"Check full",secondary:"Full semantic validation"})})]}),(0,i.jsx)(j.A,{title:"Save configuration (Ctrl/Cmd + S)",children:(0,i.jsx)("span",{children:(0,i.jsx)(h.default,{variant:"contained",size:"small",startIcon:(0,i.jsx)(I.A,{}),loadingPosition:"start",onClick:eU,disabled:ez.isPending,loading:ez.isPending,children:"Save"})})})]}),el&&"template"===eb&&(0,i.jsx)(h.default,{variant:"contained",size:"small",type:"submit",form:"template-form",loadingPosition:"start",startIcon:(0,i.jsx)(I.A,{}),disabled:!eK.canSubmit||eK.submitting,loading:eK.submitting,children:"Update"}),(0,i.jsx)(j.A,{title:"More actions",children:(0,i.jsx)(c.default,{onClick:eZ,size:"small","aria-label":"more actions","aria-controls":ej?"actions-menu":void 0,"aria-haspopup":"true","aria-expanded":ej?"true":void 0,children:(0,i.jsx)(R.A,{})})}),(0,i.jsxs)(w.A,{id:"actions-menu",anchorEl:ej,open:!!ej,onClose:eG,slotProps:{list:{"aria-labelledby":"more-actions-button"}},children:[(0,i.jsxs)(A.A,{onClick:eQ,children:[(0,i.jsx)(E.A,{children:(0,i.jsx)(L.A,{fontSize:"small"})}),(0,i.jsx)(S.default,{primary:"Copy to clipboard"})]}),(0,i.jsxs)(A.A,{onClick:eX,children:[(0,i.jsx)(E.A,{children:(0,i.jsx)(M.A,{fontSize:"small"})}),(0,i.jsx)(S.default,{primary:"Delete file"})]}),(0,i.jsx)(F.default,{}),(0,i.jsx)(A.A,{className:"h-9",children:(0,i.jsx)(D.A,{control:(0,i.jsx)(P.A,{checked:eD,onChange:e1,size:"small",className:"mr-2"}),label:"Auto-check syntax"})}),(0,i.jsx)(A.A,{className:"h-9",children:(0,i.jsx)(D.A,{control:(0,i.jsx)(P.A,{checked:eT,onChange:e=>e_(e.target.checked),size:"small",className:"mr-2"}),label:"Auto-save"})})]})]})}),tr&&(0,i.jsx)(g.default,{className:"pt-0 pb-2",children:tr}),el&&(0,i.jsx)(u.default,{sx:{borderBottom:1,borderColor:"divider"},children:(0,i.jsxs)(T.A,{value:eb,onChange:tn,"aria-label":"configuration tabs",children:[(0,i.jsx)(_.A,{label:"Template",value:"template","aria-label":"Edit template values"}),(0,i.jsx)(_.A,{label:"Editor",value:"editor","aria-label":"Edit configuration file directly"})]})}),(0,i.jsx)(g.default,{className:"flex-1 flex flex-col pt-0 overflow-y-auto pb-4",children:(0,i.jsx)(u.default,{component:"div",className:"rounded-lg flex-1",children:"editor"!==eb&&el?(0,i.jsx)(ec.B,{ref:eH,template:eh,initialValues:ep,interpolatedMetadata:eo,filename:O,onSuccess:e8,mode:"edit",className:"pt-4",formId:"template-form",onStateChange:e$}):(0,i.jsx)(es,{contents:Y,setContents:J,errors:ex,onCheckConfiguration:eY,isCheckPending:eR.isPending,autoCheckEnabled:eD,onEditorReady:e=>{if(eM.current=e,er&&et&&et>0&&e.getModel()){var t,n;let r=e.getModel(),i=Math.min(Math.max(1,et),null!=(n=null==r||null==(t=r.getLineCount)?void 0:t.call(r))?n:1);e.revealLineInCenter(i),e.setPosition({lineNumber:i,column:1}),e.focus()}}})})}),(0,i.jsxs)(p.A,{open:e5,onClose:e6,maxWidth:"xs",fullWidth:!0,children:[(0,i.jsx)(v.A,{children:"Discard Unsaved Changes?"}),(0,i.jsx)(b.A,{children:(0,i.jsx)(x.A,{children:"You have unsaved changes. If you proceed they will be lost."})}),(0,i.jsxs)(k.A,{children:[(0,i.jsx)(h.default,{variant:"outlined",onClick:e6,children:"Cancel"}),(0,i.jsx)(h.default,{variant:"contained",color:"warning",onClick:e2,children:"Discard Changes"})]})]}),(0,i.jsxs)(p.A,{open:ey,onClose:eq,maxWidth:"sm",fullWidth:!0,children:[(0,i.jsx)(v.A,{children:"Delete Configuration File"}),(0,i.jsx)(b.A,{children:(0,i.jsx)(x.A,{children:'Are you sure you want to delete "'.concat(O,'"? This action cannot be undone.')})}),(0,i.jsxs)(k.A,{children:[(0,i.jsx)(h.default,{onClick:eq,variant:"outlined",children:"Cancel"}),(0,i.jsx)(h.default,{onClick:tt,variant:"contained",color:"error",disabled:eW.isPending,children:eW.isPending?"Deleting...":"Delete"})]})]})]})}},26695:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>g,E5:()=>d,Hg:()=>c,XA:()=>f,eP:()=>u});var r=n(89489),i=n(99776),a=n(80549),o=n(12115);let l=async e=>{try{return await e.get("ui/config",{throwHttpErrors:!1}).json()}catch(e){return{}}},s=async(e,t)=>await e.put("ui/config",{json:t}).json(),c=()=>{let e=(0,r.JN)(),t=(0,i.jE)();return(0,a.n)({mutationFn:t=>s(e,t),onMutate:async e=>{await t.cancelQueries({queryKey:["config"]});let n=t.getQueryData(["config"]);return t.setQueryData(["config"],e),{previousConfig:n}},onError:(e,n,r)=>{t.setQueryData(["config"],null==r?void 0:r.previousConfig)},onSettled:async()=>{await t.invalidateQueries({queryKey:["config"]})}})},u=(e,t)=>{var n;let i=(0,r.V8)(["config"],e=>l(e),{refetchInterval:6e4,disableHooks:!0}).data,a=c(),s=(0,o.useCallback)(t=>{let n={...i,[e]:t};a.mutate(n)},[e,a,i]);return[null!=(n=i?i[e]:void 0)?n:t,s]},d=()=>{let[e,t]=u("dashboard",{resampling:!1,statisticsCard:{hiddenCounterGroupIds:[],showCumulative:!1,showArea:!1,zoom:"24h"},comboChartPreferences:{}}),n=(0,o.useCallback)(n=>{t({...e,statisticsCard:{...e.statisticsCard,hiddenCounterGroupIds:n}})},[e,t]);return[e.statisticsCard.hiddenCounterGroupIds,n]},f=e=>{let[t,n]=u("dashboard",{resampling:!1,statisticsCard:{hiddenCounterGroupIds:[],showCumulative:!1,showArea:!1,zoom:"24h"},comboChartPreferences:{}}),r=(0,o.useMemo)(()=>t.comboChartPreferences||{},[t.comboChartPreferences]),i=(0,o.useMemo)(()=>{var t;return null!=(t=r[e])?t:{type:"bar",zoom:"24h",utc:!1,cumulative:!1,aggregateBy:"1h"}},[r,e]),a=(0,o.useCallback)(a=>{n({...t,comboChartPreferences:{...r,[e]:{...i,...a}}})},[r,n,e,i,t]);return[i,a]},g=(e,t)=>{var n;let[r,i]=u("editor",{autoCheckEnabled:!1,autoSaveEnabled:!0}),a=(0,o.useCallback)(t=>{i({...r,[e]:t})},[r,e,i]);return[null!=(n=r?r[e]:void 0)?n:t,a]}},43314:(e,t,n)=>{Promise.resolve().then(n.bind(n,17651))},60149:(e,t,n)=>{"use strict";n.d(t,{T:()=>l});var r=n(95155),i=n(12115),a=n(29767),o=n(2821);let l=i.forwardRef(function(e,t){let{className:n,...i}=e;return(0,r.jsx)("div",{className:"overflow-y-visible",children:(0,r.jsx)(a.default,{ref:t,className:(0,o.A)(n,"overflow-x-auto"),...i})})});l.displayName="OverflowingCard"},71110:(e,t,n)=>{var r={"./editorBaseApi":[73023],"./editorBaseApi.js":[73023],"./editorSimpleWorker":[45728],"./editorSimpleWorker.js":[45728],"./editorWorker":[30554],"./editorWorker.js":[30554],"./editorWorkerHost":[9472],"./editorWorkerHost.js":[9472],"./findSectionHeaders":[10817],"./findSectionHeaders.js":[10817],"./getIconClasses":[71294],"./getIconClasses.js":[71294],"./languageFeatureDebounce":[75896],"./languageFeatureDebounce.js":[75896],"./languageFeatures":[47840],"./languageFeatures.js":[47840],"./languageFeaturesService":[1691],"./languageFeaturesService.js":[1691],"./languageService":[92886],"./languageService.js":[92886],"./languagesAssociations":[46360],"./languagesAssociations.js":[46360],"./languagesRegistry":[56895],"./languagesRegistry.js":[56895],"./markerDecorations":[59726],"./markerDecorations.js":[59726],"./markerDecorationsService":[54953],"./markerDecorationsService.js":[54953],"./model":[1322],"./model.js":[1322],"./modelService":[16933],"./modelService.js":[16933],"./resolverService":[51302],"./resolverService.js":[51302],"./semanticTokensDto":[88160],"./semanticTokensDto.js":[88160],"./semanticTokensProviderStyling":[71705],"./semanticTokensProviderStyling.js":[71705],"./semanticTokensStyling":[8931],"./semanticTokensStyling.js":[8931],"./semanticTokensStylingService":[68198],"./semanticTokensStylingService.js":[68198],"./textModelSync/textModelSync.impl":[69591],"./textModelSync/textModelSync.impl.js":[69591],"./textModelSync/textModelSync.protocol":[542,542],"./textModelSync/textModelSync.protocol.js":[542,542],"./textResourceConfiguration":[68696],"./textResourceConfiguration.js":[68696],"./treeSitterParserService":[10108],"./treeSitterParserService.js":[10108],"./treeViewsDnd":[83673],"./treeViewsDnd.js":[83673],"./treeViewsDndService":[61936],"./treeViewsDndService.js":[61936],"./unicodeTextModelHighlighter":[815],"./unicodeTextModelHighlighter.js":[815]};function i(e){if(!n.o(r,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then(()=>n(i))}i.keys=()=>Object.keys(r),i.id=71110,e.exports=i}},e=>{e.O(0,[1982,9823,7972,8638,9140,4854,5070,8548,870,2378,4614,7097,2619,3820,3202,5367,4180,449,1023,4488,5154,4578,7907,3309,307,8845,8441,1255,7358],()=>e(e.s=43314)),_N_E=e.O()}]);